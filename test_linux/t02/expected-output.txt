netmon 1.0 start
Reading configuration from 'netmon.ini'
Configuration file 'netmon.ini', line 3: variable name not allowed in this section
Configuration file 'netmon.ini', line 4: syntax error
Configuration file 'netmon.ini', line 5: variable name not allowed in this section
Configuration file 'netmon.ini', line 6: syntax error
Configuration file 'netmon.ini', line 13: variable method not allowed in this section
Configuration file 'netmon.ini', line 14: syntax error
Configuration file 'netmon.ini', line 15: variable method not allowed in this section
Configuration file 'netmon.ini', line 16: variable method not allowed in this section
Configuration file 'netmon.ini', line 24: empty value not allowed
Configuration file 'netmon.ini', line 26: variable method not allowed in this section
Configuration file 'netmon.ini', line 47: unknown section name 'xalert'
Configuration file 'netmon.ini', line 48: unknown section name 'alert1'
Configuration file 'netmon.ini', line 49: variable name not allowed in this section
Configuration file 'netmon.ini', line 50: variable method not allowed in this section
Configuration file 'netmon.ini', line 51: variable method not allowed in this section
Configuration file 'netmon.ini', line 52: variable method not allowed in this section
Configuration file 'netmon.ini', section of line 58: no name defined, discarding alert
Configuration file 'netmon.ini', section of line 58: unknown method 'bla', discarding alert
Configuration file 'netmon.ini', section of line 60: no method defined, discarding alert
keep_last_status not defined, taking default = 20
Check 'Local FTP': unknown alert 'email'
Check 'Local FTP': unknown alert ''
Check 'Local FTP': unknown alert ''
Check 'Local FTP': unknown alert ''
Check 'Local FTP': unknown alert ''
Check 'Local FTP': unknown alert 'sms2'
Check 'Test avec nom inconnu': unknown alert 'youpi'
== CHECK #0
   is_valid     = Yes
   display_name = Local FTP
   host_name    = Localhost
   port         = 21
   expect       = 221 
   alerts       = main,	email 	,,  ,  ,  , critical , sms,sms2
   nb alerts    = 9
     alert:     = #0 -> main
     alert:     = #1 -> <unknown>
     alert:     = #2 -> <unknown>
     alert:     = #3 -> <unknown>
     alert:     = #4 -> <unknown>
     alert:     = #5 -> <unknown>
     alert:     = #6 -> critical
     alert:     = #7 -> sms
     alert:     = #8 -> <unknown>
== CHECK #1
   is_valid     = Yes
   display_name = Local HTTP
   host_name    = 127.0.0.1
   port         = 80
   expect       = <unset>
   alerts       = <unset>
   nb alerts    = 0
== CHECK #2
   is_valid     = Yes
   display_name = Local SMTP
   host_name    = My SMTP
   port         = 25
   expect       = 220 
   alerts       = <unset>
   nb alerts    = 0
== CHECK #3
   is_valid     = Yes
   display_name = My POP3
   host_name    = maison-pclin
   port         = 110
   expect       = +OK 
   alerts       = <unset>
   nb alerts    = 0
== CHECK #4
   is_valid     = Yes
   display_name = Test avec nom inconnu
   host_name    = a.b.c
   port         = 25
   expect       = <unset>
   alerts       = youpi
   nb alerts    = 1
     alert:     = #0 -> <unknown>
== ALERT #0
   is_valid          = Yes
   name              = main
   method            = smtp
   SMTP/smart host = smtp1234.sfr.fr,smtp.sfr.fr
   SMTP/port       = <unset>
   SMTP/self       = localhostname
   SMTP/sender     = root@localhost
   SMTP/recipients = sebastien.millet1@club-internet.fr,root@localhost
== ALERT #1
   is_valid          = Yes
   name              = critical
   method            = smtp
   SMTP/smart host = localhost
   SMTP/port       = <unset>
   SMTP/self       = <unset>
   SMTP/sender     = netmon@localhost
   SMTP/recipients = root
!! alert #2 (will be ignored)
   is_valid          = No
   name              = <unset>
   method            = bla
!! alert #3 (will be ignored)
   is_valid          = No
   name              = fake
   method            = <unset>
== ALERT #4
   is_valid          = Yes
   name              = sms
   method            = smtp
   SMTP/smart host = localhost
   SMTP/port       = 25
   SMTP/self       = <unset>
   SMTP/sender     = 
   SMTP/recipients = root@localhost
check_interval = 0
keep_last_status = 20
display_name_width = 20
html_directory = ../www
html_file = netmon.html
html_title = netmon 1.0
html_refresh_interval = 20
Valid check(s) defined: 5
Run web server: no
To check: 'Local FTP' [Localhost:21], expect "221 ", alerts: main, critical, sms
To check: 'Local HTTP' [127.0.0.1:80], no expect, no alert
To check: 'Local SMTP' [My SMTP:25], expect "220 ", no alert
To check: 'My POP3' [maison-pclin:110], expect "+OK ", no alert
To check: 'Test avec nom inconnu' [a.b.c:25], no expect, alerts: 
Will create image files in html directory

Starting check...
Running gethosbyname() on Localhost
Connecting to Local FTP (Localhost:21)...
Connected to Localhost:21
<<< 220 (vsFTPd 2.3.5)
Unexpected answer: '220 (vsFTPd 2.3.5)' (expected '221 ')
Disconnected from Localhost:21
Local FTP -> ** KO **
Running gethosbyname() on 127.0.0.1
Connecting to Local HTTP (127.0.0.1:80)...
Connected to 127.0.0.1:80
Disconnected from 127.0.0.1:80
Local HTTP -> ok
Running gethosbyname() on My SMTP
Unknown host My SMTP, code=110 (Connection timed out)
Local SMTP -> ** ?? **
Running gethosbyname() on maison-pclin
Connecting to My POP3 (maison-pclin:110)...
Socket error connecting to maison-pclin:110, code=113 (No route to host)
My POP3 -> ** KO **
Running gethosbyname() on a.b.c
Unknown host a.b.c, code=110 (Connection timed out)
Test avec nom inconnu -> ** ?? **
Check done in 0.123450s
netmon end

